define(["apps/AppManager","apps/todos/App","apps/todos/list/Controller","apps/common/View"],function(n,t,i,r){return describe("Todos",function(){return beforeEach(function(){return this.options={id:"todos",title:"Todos List"}}),describe("App",function(){return it("creates an app",function(){return n.should.exist,t.should.exist})}),describe("Controller",function(){return beforeEach(function(){return this.changePage=sinon.stub(n,"changePage",function(){return Backbone.Events})}),afterEach(function(){return this.changePage.restore()}),it("creates a controller",function(){return i.should.exist}),it("list todos when started",function(){return i.start(),n.trigger("todos:list"),this.changePage.should.have.been.calledOnce,this.changePage.should.have.been.calledWithMatch(this.options)})}),describe("Common View",function(){return beforeEach(function(){var n;return $("<div id='fixture' style='display:none'>").appendTo("body"),$("#fixture").append("<div id='PanelRegion' /><div id='HeaderRegion' /><div id='MainRegion' /><div id='FooterRegion' />").appendTo("body"),n=_.extend(this.options,{main:Marionette.ItemView.extend({render:function(){}})}),new r.Layout(n)}),afterEach(function(){return $("#fixture").remove()}),it("displays the header",function(){return $("#fixture #HeaderRegion h1.ui-title").should.have.text(this.options.title)}),it("displays the content",function(){return $("#fixture #MainRegion #todos").should.exist})})})})